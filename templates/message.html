<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>{{ sender }}μ λ©”μ‹ μ €</title>
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <h1>π” {{ sender }}μ μ•μ „ν• μ±„ν…λ°© (λ€ν™” μƒλ€: {{ recipient }})</h1>

      <div id="status-box" class="status-{{ key_exchange_status.lower() }}">
        <p><strong>ν‚¤ κµν™ μƒνƒ:</strong> {{ key_exchange_status }}</p>
        <p><strong>μ„¤μ •λ AES ν‚¤ μΌλ¶€:</strong> {{ session_key_snippet }}</p>
      </div>

      <div id="chat-box"></div>

      <div class="input-area">
        <input
          type="text"
          id="message-input"
          placeholder="λ©”μ‹μ§€λ¥Ό μ…λ ¥ν•μ„Έμ” (μ: λΉ„λ°€μ΄μ•Ό)"
        />
        <button onclick="sendMessage()">μ „μ†΅</button>
      </div>

      <h2>π” μ•”νΈν™”/λ³µνΈν™” μƒμ„Έ κ³Όμ •</h2>
      <div id="result-detail">
        <p>
          λ©”μ‹μ§€ μ „μ†΅ ν›„ μ„λ²„ μ½μ†”(ν„°λ―Έλ„)μ—μ„ **μ•”νΈν™”**μ™€ **λ³µνΈν™”** λ΅κ·Έλ¥Ό
          ν™•μΈν•μ„Έμ”.
        </p>
      </div>
    </div>

    <script>
      const SENDER = '{{ sender }}'
      const RECIPIENT = '{{ recipient }}'
    </script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
  </body>
</html>
